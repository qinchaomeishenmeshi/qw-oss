"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isSupportWebp = exports.getOssImageMIME = exports.default = void 0;
const isSupportWebp = () => {
  try {
    const _isSupportWebp = document.createElement("canvas").toDataURL("image/webp").includes("data:image/webp");
    return _isSupportWebp;
  } catch (err) {
    return false;
  }
};
exports.isSupportWebp = isSupportWebp;
const getOssImageMIME = (backupExt = "jpg") => {
  return `image/${isSupportWebp() ? "webp" : backupExt}`;
};
exports.getOssImageMIME = getOssImageMIME;
var _default = isSupportWebp;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc1N1cHBvcnRXZWJwIiwiX2lzU3VwcG9ydFdlYnAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0b0RhdGFVUkwiLCJpbmNsdWRlcyIsImVyciIsImdldE9zc0ltYWdlTUlNRSIsImJhY2t1cEV4dCJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYlNyYy9zcmMvaXMtc3VwcG9ydC13ZWJwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc1N1cHBvcnRXZWJwID0gKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IF9pc1N1cHBvcnRXZWJwID0gZG9jdW1lbnRcbiAgICAgIC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXG4gICAgICAudG9EYXRhVVJMKFwiaW1hZ2Uvd2VicFwiKVxuICAgICAgLmluY2x1ZGVzKFwiZGF0YTppbWFnZS93ZWJwXCIpO1xuICAgIHJldHVybiBfaXNTdXBwb3J0V2VicDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T3NzSW1hZ2VNSU1FID0gKGJhY2t1cEV4dCA9IFwianBnXCIpID0+IHtcbiAgcmV0dXJuIGBpbWFnZS8ke2lzU3VwcG9ydFdlYnAoKSA/IFwid2VicFwiIDogYmFja3VwRXh0fWA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc1N1cHBvcnRXZWJwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxhQUFhLEdBQUcsTUFBTTtFQUNqQyxJQUFJO0lBQ0YsTUFBTUMsY0FBYyxHQUFHQyxRQUFRLENBQzVCQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQ3ZCQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQ3ZCQyxRQUFRLENBQUMsaUJBQWlCLENBQUM7SUFDOUIsT0FBT0osY0FBYztFQUN2QixDQUFDLENBQUMsT0FBT0ssR0FBRyxFQUFFO0lBQ1osT0FBTyxLQUFLO0VBQ2Q7QUFDRixDQUFDO0FBQUM7QUFFSyxNQUFNQyxlQUFlLEdBQUcsQ0FBQ0MsU0FBUyxHQUFHLEtBQUssS0FBSztFQUNwRCxPQUFRLFNBQVFSLGFBQWEsRUFBRSxHQUFHLE1BQU0sR0FBR1EsU0FBVSxFQUFDO0FBQ3hELENBQUM7QUFBQztBQUFBLGVBRWFSLGFBQWE7QUFBQSJ9