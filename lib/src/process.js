"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.merge = merge;
exports.parse = parse;
exports.parseUrl = parseUrl;
exports.stringify = stringify;
exports.stringifyUrl = stringifyUrl;
var _lodashEs = require("lodash-es");
var _queryString = _interopRequireDefault(require("query-string"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/**
 * @see https://help.aliyun.com/document_detail/99372.html?spm=a2c4g.11186623.6.737.53f128fbYQN7wk
 * @param processStr process的字符串
 */
function parse(processStr) {
  // 模块之间以|隔开
  const moduleStrs = processStr.split("|");
  return Object.fromEntries(moduleStrs.map(moduleStr => {
    // 命令之间以/隔开
    const commandStrs = moduleStr.split("/");
    const moduleName = commandStrs.shift();
    if (!moduleName || !commandStrs.length) {
      throw new Error("parse error");
    }
    return [moduleName, Object.fromEntries(commandStrs.map(commandStr => {
      // 参数之间以,隔开
      const paramStrs = commandStr.split(",");
      const commandName = paramStrs.shift();
      if (!commandName || !paramStrs.length) {
        throw new Error("parse error");
      }
      return [commandName, paramStrs.length === 1 ? paramStrs[0] : Object.fromEntries(paramStrs.map(paramStr => {
        // 参数名与参数值之间用_隔开
        return paramStr.split("_");
      }))];
    }))];
  }));
}
function parseUrl(url) {
  let process = {};
  const {
    query: {
      "x-oss-process": xOssProcessArr,
      ...query
    },
    url: outputUrl
  } = _queryString.default.parseUrl(url);
  const xOssProcess = (0, _lodashEs.head)(xOssProcessArr);
  if (xOssProcess) {
    process = parse(xOssProcess);
  }
  return {
    url: outputUrl,
    process,
    query
  };
}
function stringify(process) {
  return Object.entries(process).filter(entry => {
    return !!entry[1];
  }).map(([moduleName, commandsMap]) => {
    if (typeof commandsMap !== "object") {
      return `${moduleName}/${commandsMap}`;
    }
    return `${moduleName}/${Object.entries(commandsMap).filter(entry => {
      return !!entry[1];
    }).map(([commandName, paramsMap]) => {
      if (typeof paramsMap !== "object") {
        return `${commandName},${paramsMap}`;
      }
      return `${commandName},${typeof paramsMap === "string" ? paramsMap : Object.entries(paramsMap).map(([paramName, paramValue]) => {
        return `${paramName}_${paramValue}`;
      }).join(",")}`;
    }).join("/")}`;
  }).join("|");
}
function merge(process, mergeProcess) {
  process = {
    ...process
  };
  Object.entries(mergeProcess).forEach(([moduleName, commandsMap]) => {
    const oldModule = process[moduleName];
    if (typeof oldModule === "object" && typeof commandsMap === "object") {
      process[moduleName] = {
        ...oldModule,
        ...commandsMap
      };
    } else {
      process[moduleName] = commandsMap;
    }
  });
  return process;
}
function stringifyUrl({
  url,
  process
}) {
  const parsed = parseUrl(url);
  return _queryString.default.stringifyUrl({
    url: parsed.url,
    query: {
      ...parsed.query,
      "x-oss-process": stringify(merge(parsed.process, process))
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXJzZSIsInByb2Nlc3NTdHIiLCJtb2R1bGVTdHJzIiwic3BsaXQiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsIm1hcCIsIm1vZHVsZVN0ciIsImNvbW1hbmRTdHJzIiwibW9kdWxlTmFtZSIsInNoaWZ0IiwibGVuZ3RoIiwiRXJyb3IiLCJjb21tYW5kU3RyIiwicGFyYW1TdHJzIiwiY29tbWFuZE5hbWUiLCJwYXJhbVN0ciIsInBhcnNlVXJsIiwidXJsIiwicHJvY2VzcyIsInF1ZXJ5IiwieE9zc1Byb2Nlc3NBcnIiLCJvdXRwdXRVcmwiLCJxcyIsInhPc3NQcm9jZXNzIiwiaGVhZCIsInN0cmluZ2lmeSIsImVudHJpZXMiLCJmaWx0ZXIiLCJlbnRyeSIsImNvbW1hbmRzTWFwIiwicGFyYW1zTWFwIiwicGFyYW1OYW1lIiwicGFyYW1WYWx1ZSIsImpvaW4iLCJtZXJnZSIsIm1lcmdlUHJvY2VzcyIsImZvckVhY2giLCJvbGRNb2R1bGUiLCJzdHJpbmdpZnlVcmwiLCJwYXJzZWQiXSwic291cmNlcyI6WyIuLi8uLi9saWJTcmMvc3JjL3Byb2Nlc3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGVhZCB9IGZyb20gXCJsb2Rhc2gtZXNcIjtcbmltcG9ydCBxcyBmcm9tIFwicXVlcnktc3RyaW5nXCI7XG5pbXBvcnQge1xuICBPc3NQcm9jZXNzLFxuICBPc3NQcm9jZXNzQ29tbWFuZHNNYXAsXG4gIE9zc1Byb2Nlc3NQYXJhbXNNYXAsXG59IGZyb20gXCIuLi90eXBpbmdzXCI7XG5cbi8qKlxuICogQHNlZSBodHRwczovL2hlbHAuYWxpeXVuLmNvbS9kb2N1bWVudF9kZXRhaWwvOTkzNzIuaHRtbD9zcG09YTJjNGcuMTExODY2MjMuNi43MzcuNTNmMTI4ZmJZUU43d2tcbiAqIEBwYXJhbSBwcm9jZXNzU3RyIHByb2Nlc3PnmoTlrZfnrKbkuLJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHByb2Nlc3NTdHI6IHN0cmluZykge1xuICAvLyDmqKHlnZfkuYvpl7Tku6V86ZqU5byAXG4gIGNvbnN0IG1vZHVsZVN0cnMgPSBwcm9jZXNzU3RyLnNwbGl0KFwifFwiKTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBtb2R1bGVTdHJzLm1hcCgobW9kdWxlU3RyKSA9PiB7XG4gICAgICAvLyDlkb3ku6TkuYvpl7Tku6Uv6ZqU5byAXG4gICAgICBjb25zdCBjb21tYW5kU3RycyA9IG1vZHVsZVN0ci5zcGxpdChcIi9cIik7XG4gICAgICBjb25zdCBtb2R1bGVOYW1lID0gY29tbWFuZFN0cnMuc2hpZnQoKTtcbiAgICAgIGlmICghbW9kdWxlTmFtZSB8fCAhY29tbWFuZFN0cnMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcnNlIGVycm9yXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgbW9kdWxlTmFtZSxcbiAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIGNvbW1hbmRTdHJzLm1hcCgoY29tbWFuZFN0cikgPT4ge1xuICAgICAgICAgICAgLy8g5Y+C5pWw5LmL6Ze05LulLOmalOW8gFxuICAgICAgICAgICAgY29uc3QgcGFyYW1TdHJzID0gY29tbWFuZFN0ci5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IHBhcmFtU3Rycy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKCFjb21tYW5kTmFtZSB8fCAhcGFyYW1TdHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBlcnJvclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgICBwYXJhbVN0cnMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyBwYXJhbVN0cnNbMF1cbiAgICAgICAgICAgICAgICA6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1TdHJzLm1hcCgocGFyYW1TdHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyDlj4LmlbDlkI3kuI7lj4LmlbDlgLzkuYvpl7TnlKhf6ZqU5byAXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtU3RyLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICBdO1xuICAgIH0pXG4gICkgYXMgT3NzUHJvY2Vzcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHVybDogc3RyaW5nKSB7XG4gIGxldCBwcm9jZXNzOiBPc3NQcm9jZXNzID0ge307XG4gIGNvbnN0IHtcbiAgICBxdWVyeTogeyBcIngtb3NzLXByb2Nlc3NcIjogeE9zc1Byb2Nlc3NBcnIsIC4uLnF1ZXJ5IH0sXG4gICAgdXJsOiBvdXRwdXRVcmwsXG4gIH0gPSBxcy5wYXJzZVVybCh1cmwpO1xuICBjb25zdCB4T3NzUHJvY2VzcyA9IGhlYWQoeE9zc1Byb2Nlc3NBcnIpO1xuICBpZiAoeE9zc1Byb2Nlc3MpIHtcbiAgICBwcm9jZXNzID0gcGFyc2UoeE9zc1Byb2Nlc3MpO1xuICB9XG4gIHJldHVybiB7IHVybDogb3V0cHV0VXJsLCBwcm9jZXNzLCBxdWVyeSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KHByb2Nlc3M6IE9zc1Byb2Nlc3MpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHByb2Nlc3MpXG4gICAgLmZpbHRlcihcbiAgICAgIChlbnRyeSk6IGVudHJ5IGlzIFtzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IE9zc1Byb2Nlc3NDb21tYW5kc01hcF0gPT4ge1xuICAgICAgICByZXR1cm4gISFlbnRyeVsxXTtcbiAgICAgIH1cbiAgICApXG4gICAgLm1hcCgoW21vZHVsZU5hbWUsIGNvbW1hbmRzTWFwXSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjb21tYW5kc01hcCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gYCR7bW9kdWxlTmFtZX0vJHtjb21tYW5kc01hcH1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGAke21vZHVsZU5hbWV9LyR7T2JqZWN0LmVudHJpZXMoY29tbWFuZHNNYXApXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgKGVudHJ5KTogZW50cnkgaXMgW3N0cmluZywgc3RyaW5nIHwgbnVtYmVyIHwgT3NzUHJvY2Vzc1BhcmFtc01hcF0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuICEhZW50cnlbMV07XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIC5tYXAoKFtjb21tYW5kTmFtZSwgcGFyYW1zTWFwXSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zTWFwICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7Y29tbWFuZE5hbWV9LCR7cGFyYW1zTWFwfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBgJHtjb21tYW5kTmFtZX0sJHtcbiAgICAgICAgICAgIHR5cGVvZiBwYXJhbXNNYXAgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgPyBwYXJhbXNNYXBcbiAgICAgICAgICAgICAgOiBPYmplY3QuZW50cmllcyhwYXJhbXNNYXApXG4gICAgICAgICAgICAgICAgICAubWFwKChbcGFyYW1OYW1lLCBwYXJhbVZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7cGFyYW1OYW1lfV8ke3BhcmFtVmFsdWV9YDtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuam9pbihcIixcIilcbiAgICAgICAgICB9YDtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCIvXCIpfWA7XG4gICAgfSlcbiAgICAuam9pbihcInxcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShwcm9jZXNzOiBPc3NQcm9jZXNzLCBtZXJnZVByb2Nlc3M6IE9zc1Byb2Nlc3MpIHtcbiAgcHJvY2VzcyA9IHsgLi4ucHJvY2VzcyB9O1xuICBPYmplY3QuZW50cmllcyhtZXJnZVByb2Nlc3MpLmZvckVhY2goKFttb2R1bGVOYW1lLCBjb21tYW5kc01hcF0pID0+IHtcbiAgICBjb25zdCBvbGRNb2R1bGUgPSBwcm9jZXNzW21vZHVsZU5hbWVdO1xuICAgIGlmICh0eXBlb2Ygb2xkTW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBjb21tYW5kc01hcCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcHJvY2Vzc1ttb2R1bGVOYW1lXSA9IHtcbiAgICAgICAgLi4ub2xkTW9kdWxlLFxuICAgICAgICAuLi5jb21tYW5kc01hcCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2Nlc3NbbW9kdWxlTmFtZV0gPSBjb21tYW5kc01hcDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcHJvY2Vzcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeVVybCh7XG4gIHVybCxcbiAgcHJvY2Vzcyxcbn06IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHByb2Nlc3M6IE9zc1Byb2Nlc3M7XG59KSB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlVXJsKHVybCk7XG4gIHJldHVybiBxcy5zdHJpbmdpZnlVcmwoe1xuICAgIHVybDogcGFyc2VkLnVybCxcbiAgICBxdWVyeToge1xuICAgICAgLi4ucGFyc2VkLnF1ZXJ5LFxuICAgICAgXCJ4LW9zcy1wcm9jZXNzXCI6IHN0cmluZ2lmeShtZXJnZShwYXJzZWQucHJvY2VzcywgcHJvY2VzcykpLFxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUE4QjtBQU85QjtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNBLEtBQUssQ0FBQ0MsVUFBa0IsRUFBRTtFQUN4QztFQUNB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